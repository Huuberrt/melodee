```

BenchmarkDotNet v0.15.2, Linux Manjaro Linux
AMD Ryzen 9 3900X 4.67GHz, 1 CPU, 24 logical and 12 physical cores
.NET SDK 9.0.109
  [Host]   : .NET 9.0.8 (9.0.825.36511), X64 RyuJIT AVX2
  .NET 9.0 : .NET 9.0.8 (9.0.825.36511), X64 RyuJIT AVX2

Job=.NET 9.0  Runtime=.NET 9.0  

```
| Method                                   | CollectionSize | arraySize | Mean            | Error         | StdDev        | Ratio   | RatioSD | Completed Work Items | Lock Contentions | Gen0    | Gen1   | Allocated | Alloc Ratio |
|----------------------------------------- |--------------- |---------- |----------------:|--------------:|--------------:|--------:|--------:|---------------------:|-----------------:|--------:|-------:|----------:|------------:|
| **ArrayPoolUsage_vs_NewArray**               | **100**            | **1024**      |        **506.4 ns** |       **2.37 ns** |       **2.21 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 100            | 1024      |        730.4 ns |       4.83 ns |       4.28 ns |       ? |       ? |                    - |                - |  0.1249 |      - |    1048 B |           ? |
|                                          |                |           |                 |               |               |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **100**            | **4096**      |      **1,978.0 ns** |      **16.23 ns** |      **13.55 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 100            | 4096      |      2,886.6 ns |      22.58 ns |      21.12 ns |       ? |       ? |                    - |                - |  0.4921 |      - |    4120 B |           ? |
|                                          |                |           |                 |               |               |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **100**            | **16384**     |      **5,870.1 ns** |      **19.03 ns** |      **16.87 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 100            | 16384     |     11,385.2 ns |      46.95 ns |      39.21 ns |       ? |       ? |                    - |                - |  1.9531 |      - |   16408 B |           ? |
|                                          |                |           |                 |               |               |         |         |                      |                  |         |        |           |             |
| **PlaylistReordering_MultipleToListCalls**   | **100**            | **?**         |      **2,648.9 ns** |      **21.81 ns** |      **19.33 ns** |    **1.00** |    **0.01** |                    **-** |                **-** |  **0.3395** |      **-** |    **2848 B** |        **1.00** |
| PlaylistReordering_OptimizedSinglePass   | 100            | ?         |        563.6 ns |       2.59 ns |       2.16 ns |    0.21 |    0.00 |                    - |                - |  0.2613 | 0.0010 |    2192 B |        0.77 |
| PlaylistReordering_SpanBased             | 100            | ?         |        308.6 ns |       6.01 ns |       8.43 ns |    0.12 |    0.00 |                    - |                - |  0.0982 |      - |     824 B |        0.29 |
| MultipleLinqOperations_Inefficient       | 100            | ?         |      1,223.7 ns |      12.58 ns |       9.82 ns |    0.46 |    0.00 |                    - |                - |  0.2384 |      - |    2000 B |        0.70 |
| SingleLinqChain_Optimized                | 100            | ?         |        946.5 ns |       6.40 ns |       5.67 ns |    0.36 |    0.00 |                    - |                - |  0.1564 |      - |    1312 B |        0.46 |
| ForLoop_Manual                           | 100            | ?         |        464.0 ns |       5.78 ns |       4.51 ns |    0.18 |    0.00 |                    - |                - |  0.0772 |      - |     648 B |        0.23 |
| BulkOperations_vs_Individual             | 100            | ?         |        559.9 ns |       8.64 ns |       8.08 ns |    0.21 |    0.00 |                    - |                - |  0.0057 |      - |      48 B |        0.02 |
| BulkOperations_BatchUpdate               | 100            | ?         |      1,157.9 ns |      22.86 ns |      20.26 ns |    0.44 |    0.01 |                    - |                - |  0.1297 |      - |    1096 B |        0.38 |
| CollectionOperations_MemoryAllocation    | 100            | ?         |    360,011.6 ns |   3,779.83 ns |   3,535.66 ns |  135.92 |    1.61 |                    - |                - | 20.5078 | 0.4883 |  174856 B |       61.40 |
| CollectionOperations_OptimizedAllocation | 100            | ?         |    329,643.5 ns |     987.93 ns |     875.77 ns |  124.45 |    0.93 |                    - |                - |       - |      - |    1184 B |        0.42 |
| Original_vs_Optimized_Comparison         | 100            | ?         |     26,120.7 ns |     234.45 ns |     207.84 ns |    9.86 |    0.10 |                    - |                - |  0.5188 |      - |    4568 B |        1.60 |
|                                          |                |           |                 |               |               |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **1000**           | **1024**      |        **512.9 ns** |       **5.57 ns** |       **4.94 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 1000           | 1024      |        747.8 ns |      14.56 ns |      13.62 ns |       ? |       ? |                    - |                - |  0.1249 |      - |    1048 B |           ? |
|                                          |                |           |                 |               |               |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **1000**           | **4096**      |      **1,991.4 ns** |      **37.91 ns** |      **38.93 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 1000           | 4096      |      2,895.7 ns |      25.24 ns |      23.61 ns |       ? |       ? |                    - |                - |  0.4921 |      - |    4120 B |           ? |
|                                          |                |           |                 |               |               |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **1000**           | **16384**     |      **5,866.9 ns** |      **21.70 ns** |      **19.24 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 1000           | 16384     |     11,387.2 ns |      71.62 ns |      67.00 ns |       ? |       ? |                    - |                - |  1.9531 |      - |   16408 B |           ? |
|                                          |                |           |                 |               |               |         |         |                      |                  |         |        |           |             |
| **PlaylistReordering_MultipleToListCalls**   | **1000**           | **?**         |     **29,534.5 ns** |     **272.94 ns** |     **255.31 ns** |    **1.00** |    **0.01** |                    **-** |                **-** |  **2.7771** | **0.1526** |   **23296 B** |       **1.000** |
| PlaylistReordering_OptimizedSinglePass   | 1000           | ?         |      5,062.3 ns |      93.44 ns |      87.40 ns |    0.17 |    0.00 |                    - |                - |  1.9836 | 0.0534 |   16600 B |       0.713 |
| PlaylistReordering_SpanBased             | 1000           | ?         |      4,058.0 ns |      80.61 ns |     145.35 ns |    0.14 |    0.00 |                    - |                - |  0.9537 |      - |    8024 B |       0.344 |
| MultipleLinqOperations_Inefficient       | 1000           | ?         |     12,604.4 ns |     149.40 ns |     139.75 ns |    0.43 |    0.01 |                    - |                - |  1.5259 | 0.0305 |   12816 B |       0.550 |
| SingleLinqChain_Optimized                | 1000           | ?         |      5,205.9 ns |      31.84 ns |      28.22 ns |    0.18 |    0.00 |                    - |                - |  0.8011 |      - |    6728 B |       0.289 |
| ForLoop_Manual                           | 1000           | ?         |      7,459.2 ns |     138.93 ns |     123.16 ns |    0.25 |    0.00 |                    - |                - |  0.5493 |      - |    4608 B |       0.198 |
| BulkOperations_vs_Individual             | 1000           | ?         |        509.9 ns |       2.93 ns |       2.60 ns |    0.02 |    0.00 |                    - |                - |  0.0057 |      - |      48 B |       0.002 |
| BulkOperations_BatchUpdate               | 1000           | ?         |      1,175.7 ns |      16.27 ns |      14.42 ns |    0.04 |    0.00 |                    - |                - |  0.1297 |      - |    1096 B |       0.047 |
| CollectionOperations_MemoryAllocation    | 1000           | ?         |  3,424,309.9 ns |  23,510.61 ns |  20,841.54 ns |  115.95 |    1.18 |                    - |                - | 27.3438 | 3.9063 |  239696 B |      10.289 |
| CollectionOperations_OptimizedAllocation | 1000           | ?         |  3,349,396.1 ns |  11,724.19 ns |  10,966.81 ns |  113.41 |    1.01 |                    - |                - |       - |      - |    8424 B |       0.362 |
| Original_vs_Optimized_Comparison         | 1000           | ?         |    427,181.7 ns |   2,174.97 ns |   1,816.20 ns |   14.46 |    0.13 |                    - |                - |  4.3945 |      - |   37384 B |       1.605 |
|                                          |                |           |                 |               |               |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **5000**           | **1024**      |        **504.2 ns** |       **2.37 ns** |       **2.10 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 5000           | 1024      |        731.4 ns |       5.60 ns |       4.97 ns |       ? |       ? |                    - |                - |  0.1249 |      - |    1048 B |           ? |
|                                          |                |           |                 |               |               |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **5000**           | **4096**      |      **1,981.3 ns** |      **22.54 ns** |      **21.08 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 5000           | 4096      |      2,963.1 ns |      58.97 ns |      78.73 ns |       ? |       ? |                    - |                - |  0.4921 |      - |    4120 B |           ? |
|                                          |                |           |                 |               |               |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **5000**           | **16384**     |      **5,890.7 ns** |      **28.32 ns** |      **23.65 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 5000           | 16384     |     11,431.5 ns |     127.66 ns |     106.60 ns |       ? |       ? |                    - |                - |  1.9531 |      - |   16408 B |           ? |
|                                          |                |           |                 |               |               |         |         |                      |                  |         |        |           |             |
| **PlaylistReordering_MultipleToListCalls**   | **5000**           | **?**         |    **159,025.3 ns** |   **2,021.74 ns** |   **1,891.14 ns** |   **1.000** |    **0.02** |                    **-** |                **-** | **13.1836** | **1.7090** |  **112704 B** |       **1.000** |
| PlaylistReordering_OptimizedSinglePass   | 5000           | ?         |     27,615.9 ns |     423.23 ns |     395.89 ns |   0.174 |    0.00 |                    - |                - | 15.5945 |      - |  131360 B |       1.166 |
| PlaylistReordering_SpanBased             | 5000           | ?         |     19,094.0 ns |     377.34 ns |     352.96 ns |   0.120 |    0.00 |                    - |                - |  4.7607 |      - |   40024 B |       0.355 |
| MultipleLinqOperations_Inefficient       | 5000           | ?         |     89,530.8 ns |   1,474.06 ns |   1,306.71 ns |   0.563 |    0.01 |                    - |                - |  7.2021 | 0.4883 |   60816 B |       0.540 |
| SingleLinqChain_Optimized                | 5000           | ?         |     22,519.4 ns |     379.77 ns |     355.24 ns |   0.142 |    0.00 |                    - |                - |  3.6621 | 0.2441 |   30728 B |       0.273 |
| ForLoop_Manual                           | 5000           | ?         |     45,064.0 ns |     881.71 ns |   1,146.47 ns |   0.283 |    0.01 |                    - |                - |  3.9673 | 0.1831 |   33352 B |       0.296 |
| BulkOperations_vs_Individual             | 5000           | ?         |        512.0 ns |       2.45 ns |       2.04 ns |   0.003 |    0.00 |                    - |                - |  0.0057 |      - |      48 B |       0.000 |
| BulkOperations_BatchUpdate               | 5000           | ?         |      1,096.2 ns |      10.95 ns |       9.71 ns |   0.007 |    0.00 |                    - |                - |  0.1297 |      - |    1096 B |       0.010 |
| CollectionOperations_MemoryAllocation    | 5000           | ?         | 17,842,177.8 ns | 133,839.00 ns | 118,644.79 ns | 112.212 |    1.47 |                    - |                - | 31.2500 |      - |  358664 B |       3.182 |
| CollectionOperations_OptimizedAllocation | 5000           | ?         | 17,739,314.2 ns |  72,301.99 ns |  67,631.33 ns | 111.565 |    1.34 |                    - |                - |       - |      - |   65840 B |       0.584 |
| Original_vs_Optimized_Comparison         | 5000           | ?         |  2,659,854.4 ns |  19,732.27 ns |  18,457.58 ns |  16.728 |    0.22 |                    - |                - | 19.5313 |      - |  188200 B |       1.670 |
