```

BenchmarkDotNet v0.15.2, Linux Manjaro Linux
AMD Ryzen 9 3900X 4.67GHz, 1 CPU, 24 logical and 12 physical cores
.NET SDK 9.0.109
  [Host]   : .NET 9.0.8 (9.0.825.36511), X64 RyuJIT AVX2
  .NET 9.0 : .NET 9.0.8 (9.0.825.36511), X64 RyuJIT AVX2

Job=.NET 9.0  Runtime=.NET 9.0  

```
| Method                             | BufferSize | start | length | Mean             | Error          | StdDev           | Ratio | RatioSD | Completed Work Items | Lock Contentions | Gen0     | Gen1     | Gen2     | Allocated   | Alloc Ratio |
|----------------------------------- |----------- |------ |------- |-----------------:|---------------:|-----------------:|------:|--------:|---------------------:|-----------------:|---------:|---------:|---------:|------------:|------------:|
| **RangeRequestProcessing**             | **4096**       | **0**     | **-1**     | **39,017,391.46 ns** | **423,956.742 ns** |   **396,569.400 ns** |     **?** |       **?** |           **12801.0000** |                **-** | **583.3333** | **583.3333** | **583.3333** | **134215400 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **4096**       | **0**     | **1024**   |      **7,429.62 ns** |     **146.083 ns** |       **227.434 ns** |     **?** |       **?** |               **1.0003** |           **0.0000** |   **0.2136** |        **-** |        **-** |      **1752 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **4096**       | **1024**  | **8192**   |     **10,379.50 ns** |     **184.700 ns** |       **212.701 ns** |     **?** |       **?** |               **2.0002** |                **-** |   **1.8311** |   **0.0458** |        **-** |     **13040 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **FileStreamToMemoryStream_NewBuffer** | **4096**       | **?**     | **?**      | **39,038,602.26 ns** | **349,222.409 ns** |   **326,662.858 ns** | **1.000** |    **0.01** |           **12801.0000** |                **-** | **615.3846** | **615.3846** | **615.3846** | **134219521 B** |       **1.000** |
| FileStreamToMemoryStream_ArrayPool | 4096       | ?     | ?      | 38,982,428.23 ns | 729,511.976 ns |   840,107.077 ns | 0.999 |    0.02 |           12801.0769 |                - | 615.3846 | 615.3846 | 615.3846 | 134215401 B |       1.000 |
| FileStreamCopyToAsync              | 4096       | ?     | ?      | 37,679,009.24 ns | 499,251.049 ns |   466,999.741 ns | 0.965 |    0.01 |           12801.0769 |                - | 615.3846 | 615.3846 | 615.3846 | 134215665 B |       1.000 |
| RangeParsing_ValidRange            | 4096       | ?     | ?      |        161.49 ns |       1.983 ns |         1.656 ns | 0.000 |    0.00 |                    - |                - |   0.0238 |        - |        - |       200 B |       0.000 |
| RangeParsing_StartOnly             | 4096       | ?     | ?      |        148.83 ns |       0.998 ns |         0.933 ns | 0.000 |    0.00 |                    - |                - |   0.0219 |        - |        - |       184 B |       0.000 |
| RangeParsing_SuffixOnly            | 4096       | ?     | ?      |        146.69 ns |       1.895 ns |         1.773 ns | 0.000 |    0.00 |                    - |                - |   0.0200 |        - |        - |       168 B |       0.000 |
| HeaderConstruction                 | 4096       | ?     | ?      |         55.91 ns |       0.934 ns |         0.828 ns | 0.000 |    0.00 |                    - |                - |   0.0086 |        - |        - |        72 B |       0.000 |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **8192**       | **0**     | **-1**     | **32,428,124.62 ns** | **336,707.532 ns** |   **314,956.435 ns** |     **?** |       **?** |            **6401.0000** |                **-** | **625.0000** | **625.0000** | **625.0000** | **134211322 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **8192**       | **0**     | **1024**   |      **7,492.34 ns** |     **140.266 ns** |       **124.342 ns** |     **?** |       **?** |               **1.0025** |                **-** |   **0.2136** |        **-** |        **-** |      **1752 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **8192**       | **1024**  | **8192**   |      **8,139.16 ns** |     **154.111 ns** |       **144.155 ns** |     **?** |       **?** |               **1.0003** |           **0.0000** |   **1.0529** |   **0.0305** |        **-** |      **8920 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **FileStreamToMemoryStream_NewBuffer** | **8192**       | **?**     | **?**      | **32,682,304.17 ns** | **503,590.996 ns** |   **471,059.330 ns** | **1.000** |    **0.02** |            **6401.0625** |                **-** | **625.0000** | **625.0000** | **625.0000** | **134219514 B** |       **1.000** |
| FileStreamToMemoryStream_ArrayPool | 8192       | ?     | ?      | 32,958,083.10 ns | 634,072.400 ns |   801,898.634 ns | 1.009 |    0.03 |            6401.1333 |                - | 666.6667 | 666.6667 | 666.6667 | 134211344 B |       1.000 |
| FileStreamCopyToAsync              | 8192       | ?     | ?      | 31,802,967.43 ns | 268,854.856 ns |   238,332.827 ns | 0.973 |    0.02 |            6401.0000 |                - | 625.0000 | 625.0000 | 625.0000 | 134211562 B |       1.000 |
| RangeParsing_ValidRange            | 8192       | ?     | ?      |        160.48 ns |       0.838 ns |         0.699 ns | 0.000 |    0.00 |                    - |                - |   0.0238 |        - |        - |       200 B |       0.000 |
| RangeParsing_StartOnly             | 8192       | ?     | ?      |        142.72 ns |       1.494 ns |         1.398 ns | 0.000 |    0.00 |                    - |                - |   0.0219 |        - |        - |       184 B |       0.000 |
| RangeParsing_SuffixOnly            | 8192       | ?     | ?      |        150.16 ns |       2.030 ns |         1.800 ns | 0.000 |    0.00 |                    - |                - |   0.0200 |        - |        - |       168 B |       0.000 |
| HeaderConstruction                 | 8192       | ?     | ?      |         58.54 ns |       0.585 ns |         0.547 ns | 0.000 |    0.00 |                    - |                - |   0.0086 |        - |        - |        72 B |       0.000 |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **16384**      | **0**     | **-1**     | **29,709,550.41 ns** | **215,933.445 ns** |   **191,419.375 ns** |     **?** |       **?** |            **3201.0313** |                **-** | **593.7500** | **593.7500** | **593.7500** | **134203319 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **16384**      | **0**     | **1024**   |      **8,012.37 ns** |     **156.786 ns** |       **203.866 ns** |     **?** |       **?** |               **1.0001** |                **-** |   **0.2136** |        **-** |        **-** |      **1752 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **16384**      | **1024**  | **8192**   |      **8,735.50 ns** |     **174.165 ns** |       **171.053 ns** |     **?** |       **?** |               **1.0002** |           **0.0000** |   **1.0529** |   **0.0305** |        **-** |      **8920 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **FileStreamToMemoryStream_NewBuffer** | **16384**      | **?**     | **?**      | **29,838,790.27 ns** | **325,778.119 ns** |   **288,793.817 ns** | **1.000** |    **0.01** |            **3201.0313** |                **-** | **593.7500** | **593.7500** | **593.7500** | **134219448 B** |       **1.000** |
| FileStreamToMemoryStream_ArrayPool | 16384      | ?     | ?      | 30,896,696.02 ns | 610,276.602 ns | 1,100,454.684 ns | 1.036 |    0.04 |            3201.0000 |                - | 625.0000 | 625.0000 | 625.0000 | 134203082 B |       1.000 |
| FileStreamCopyToAsync              | 16384      | ?     | ?      | 30,110,091.70 ns | 601,160.646 ns |   822,875.548 ns | 1.009 |    0.03 |            3201.0000 |                - | 593.7500 | 593.7500 | 593.7500 | 134203304 B |       1.000 |
| RangeParsing_ValidRange            | 16384      | ?     | ?      |        154.77 ns |       2.599 ns |         2.170 ns | 0.000 |    0.00 |                    - |                - |   0.0238 |        - |        - |       200 B |       0.000 |
| RangeParsing_StartOnly             | 16384      | ?     | ?      |        142.84 ns |       1.758 ns |         1.558 ns | 0.000 |    0.00 |                    - |                - |   0.0219 |        - |        - |       184 B |       0.000 |
| RangeParsing_SuffixOnly            | 16384      | ?     | ?      |        142.77 ns |       1.991 ns |         1.555 ns | 0.000 |    0.00 |                    - |                - |   0.0200 |        - |        - |       168 B |       0.000 |
| HeaderConstruction                 | 16384      | ?     | ?      |         58.76 ns |       0.711 ns |         0.594 ns | 0.000 |    0.00 |                    - |                - |   0.0086 |        - |        - |        72 B |       0.000 |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **32768**      | **0**     | **-1**     | **28,135,842.91 ns** | **323,867.890 ns** |   **270,444.356 ns** |     **?** |       **?** |            **1601.0000** |                **-** | **593.7500** | **593.7500** | **593.7500** | **134186656 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **32768**      | **0**     | **1024**   |      **9,035.08 ns** |     **180.401 ns** |       **306.335 ns** |     **?** |       **?** |               **1.0000** |                **-** |   **0.2136** |        **-** |        **-** |      **1752 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **32768**      | **1024**  | **8192**   |      **9,692.18 ns** |     **193.223 ns** |       **257.948 ns** |     **?** |       **?** |               **1.0000** |           **0.0000** |   **1.0529** |   **0.0305** |        **-** |      **8920 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **FileStreamToMemoryStream_NewBuffer** | **32768**      | **?**     | **?**      | **28,141,186.21 ns** | **133,571.972 ns** |   **111,538.646 ns** | **1.000** |    **0.01** |            **1601.0000** |                **-** | **593.7500** | **593.7500** | **593.7500** | **134219424 B** |       **1.000** |
| FileStreamToMemoryStream_ArrayPool | 32768      | ?     | ?      | 28,176,038.49 ns | 132,912.016 ns |   124,325.982 ns | 1.001 |    0.01 |            1601.0000 |                - | 593.7500 | 593.7500 | 593.7500 | 134186632 B |       1.000 |
| FileStreamCopyToAsync              | 32768      | ?     | ?      | 28,223,497.25 ns | 421,258.898 ns |   373,435.041 ns | 1.003 |    0.01 |            1601.0000 |                - | 593.7500 | 593.7500 | 593.7500 | 134186896 B |       1.000 |
| RangeParsing_ValidRange            | 32768      | ?     | ?      |        157.42 ns |       1.433 ns |         1.340 ns | 0.000 |    0.00 |                    - |                - |   0.0238 |        - |        - |       200 B |       0.000 |
| RangeParsing_StartOnly             | 32768      | ?     | ?      |        142.44 ns |       1.440 ns |         1.277 ns | 0.000 |    0.00 |                    - |                - |   0.0219 |        - |        - |       184 B |       0.000 |
| RangeParsing_SuffixOnly            | 32768      | ?     | ?      |        135.76 ns |       1.850 ns |         1.640 ns | 0.000 |    0.00 |                    - |                - |   0.0200 |        - |        - |       168 B |       0.000 |
| HeaderConstruction                 | 32768      | ?     | ?      |         55.71 ns |       0.580 ns |         0.542 ns | 0.000 |    0.00 |                    - |                - |   0.0086 |        - |        - |        72 B |       0.000 |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **65536**      | **0**     | **-1**     | **27,495,624.59 ns** | **207,745.993 ns** |   **194,325.731 ns** |     **?** |       **?** |             **801.0000** |                **-** | **593.7500** | **593.7500** | **593.7500** | **134153864 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **65536**      | **0**     | **1024**   |     **11,262.04 ns** |     **203.308 ns** |       **169.772 ns** |     **?** |       **?** |               **1.0008** |           **0.0001** |   **0.2136** |        **-** |        **-** |      **1752 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **65536**      | **1024**  | **8192**   |     **12,665.92 ns** |     **241.702 ns** |       **397.123 ns** |     **?** |       **?** |               **1.0000** |           **0.0000** |   **1.0529** |   **0.0305** |        **-** |      **8920 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **FileStreamToMemoryStream_NewBuffer** | **65536**      | **?**     | **?**      | **27,352,930.53 ns** | **373,737.993 ns** |   **312,088.151 ns** | **1.000** |    **0.02** |             **801.0000** |           **0.0313** | **593.7500** | **593.7500** | **593.7500** | **134219400 B** |       **1.000** |
| FileStreamToMemoryStream_ArrayPool | 65536      | ?     | ?      | 27,318,526.91 ns | 220,433.471 ns |   184,071.931 ns | 0.999 |    0.01 |             801.0000 |                - | 593.7500 | 593.7500 | 593.7500 | 134153840 B |       1.000 |
| FileStreamCopyToAsync              | 65536      | ?     | ?      | 27,290,758.07 ns | 257,670.391 ns |   228,418.090 ns | 0.998 |    0.01 |             801.0000 |                - | 593.7500 | 593.7500 | 593.7500 | 134154104 B |       1.000 |
| RangeParsing_ValidRange            | 65536      | ?     | ?      |        157.58 ns |       2.983 ns |         2.791 ns | 0.000 |    0.00 |                    - |                - |   0.0238 |        - |        - |       200 B |       0.000 |
| RangeParsing_StartOnly             | 65536      | ?     | ?      |        146.47 ns |       2.602 ns |         2.307 ns | 0.000 |    0.00 |                    - |                - |   0.0219 |        - |        - |       184 B |       0.000 |
| RangeParsing_SuffixOnly            | 65536      | ?     | ?      |        146.33 ns |       1.301 ns |         1.217 ns | 0.000 |    0.00 |                    - |                - |   0.0200 |        - |        - |       168 B |       0.000 |
| HeaderConstruction                 | 65536      | ?     | ?      |         57.73 ns |       0.819 ns |         0.766 ns | 0.000 |    0.00 |                    - |                - |   0.0086 |        - |        - |        72 B |       0.000 |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **131072**     | **0**     | **-1**     | **26,068,305.16 ns** | **277,600.343 ns** |   **231,808.859 ns** |     **?** |       **?** |             **401.0000** |                **-** | **531.2500** | **531.2500** | **531.2500** | **134088233 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **131072**     | **0**     | **1024**   |     **25,045.04 ns** |     **500.898 ns** |       **702.189 ns** |     **?** |       **?** |               **1.0000** |           **0.0013** |   **0.2136** |        **-** |        **-** |      **1816 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **131072**     | **1024**  | **8192**   |     **25,987.77 ns** |     **457.442 ns** |       **508.446 ns** |     **?** |       **?** |               **1.0000** |           **0.0002** |   **1.0681** |   **0.0305** |        **-** |      **8984 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **FileStreamToMemoryStream_NewBuffer** | **131072**     | **?**     | **?**      | **26,889,598.88 ns** | **300,228.159 ns** |   **266,144.443 ns** | **1.000** |    **0.01** |             **401.0000** |                **-** | **593.7500** | **593.7500** | **593.7500** | **134220101 B** |       **1.000** |
| FileStreamToMemoryStream_ArrayPool | 131072     | ?     | ?      | 26,151,702.00 ns | 398,024.065 ns |   372,311.958 ns | 0.973 |    0.02 |             401.0000 |                - | 531.2500 | 531.2500 | 531.2500 | 134088209 B |       0.999 |
| FileStreamCopyToAsync              | 131072     | ?     | ?      | 26,069,192.62 ns | 504,828.337 ns |   691,014.785 ns | 0.970 |    0.03 |             401.0000 |                - | 531.2500 | 531.2500 | 531.2500 | 134088473 B |       0.999 |
| RangeParsing_ValidRange            | 131072     | ?     | ?      |        161.22 ns |       2.365 ns |         1.975 ns | 0.000 |    0.00 |                    - |                - |   0.0238 |        - |        - |       200 B |       0.000 |
| RangeParsing_StartOnly             | 131072     | ?     | ?      |        154.39 ns |       3.046 ns |         3.508 ns | 0.000 |    0.00 |                    - |                - |   0.0219 |        - |        - |       184 B |       0.000 |
| RangeParsing_SuffixOnly            | 131072     | ?     | ?      |        130.78 ns |       1.447 ns |         1.354 ns | 0.000 |    0.00 |                    - |                - |   0.0200 |        - |        - |       168 B |       0.000 |
| HeaderConstruction                 | 131072     | ?     | ?      |         57.82 ns |       0.749 ns |         0.626 ns | 0.000 |    0.00 |                    - |                - |   0.0086 |        - |        - |        72 B |       0.000 |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **262144**     | **0**     | **-1**     | **26,794,027.73 ns** | **370,455.263 ns** |   **328,398.942 ns** |     **?** |       **?** |             **201.0000** |                **-** | **531.2500** | **531.2500** | **531.2500** | **133957138 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **262144**     | **0**     | **1024**   |     **35,553.92 ns** |     **634.483 ns** |       **562.453 ns** |     **?** |       **?** |               **1.0000** |           **0.0001** |   **0.1831** |        **-** |        **-** |      **1816 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **262144**     | **1024**  | **8192**   |     **40,774.06 ns** |     **689.785 ns** |       **847.118 ns** |     **?** |       **?** |               **1.0000** |           **0.0002** |   **1.0376** |        **-** |        **-** |      **8984 B** |           **?** |
|                                    |            |       |        |                  |                |                  |       |         |                      |                  |          |          |          |             |             |
| **FileStreamToMemoryStream_NewBuffer** | **262144**     | **?**     | **?**      | **26,790,737.12 ns** | **296,255.570 ns** |   **262,622.847 ns** | **1.000** |    **0.01** |             **201.0000** |                **-** | **593.7500** | **593.7500** | **593.7500** | **134220079 B** |       **1.000** |
| FileStreamToMemoryStream_ArrayPool | 262144     | ?     | ?      | 27,758,415.05 ns | 488,531.386 ns |   433,070.349 ns | 1.036 |    0.02 |             201.0000 |                - | 531.2500 | 531.2500 | 531.2500 | 133957114 B |       0.998 |
| FileStreamCopyToAsync              | 262144     | ?     | ?      | 27,204,648.93 ns | 481,355.848 ns |   426,709.422 ns | 1.016 |    0.02 |             201.0000 |                - | 531.2500 | 531.2500 | 531.2500 | 133957378 B |       0.998 |
| RangeParsing_ValidRange            | 262144     | ?     | ?      |        160.15 ns |       2.998 ns |         2.657 ns | 0.000 |    0.00 |                    - |                - |   0.0238 |        - |        - |       200 B |       0.000 |
| RangeParsing_StartOnly             | 262144     | ?     | ?      |        142.88 ns |       2.513 ns |         2.228 ns | 0.000 |    0.00 |                    - |                - |   0.0219 |        - |        - |       184 B |       0.000 |
| RangeParsing_SuffixOnly            | 262144     | ?     | ?      |        138.59 ns |       1.265 ns |         1.057 ns | 0.000 |    0.00 |                    - |                - |   0.0200 |        - |        - |       168 B |       0.000 |
| HeaderConstruction                 | 262144     | ?     | ?      |         59.04 ns |       0.765 ns |         0.716 ns | 0.000 |    0.00 |                    - |                - |   0.0086 |        - |        - |        72 B |       0.000 |
