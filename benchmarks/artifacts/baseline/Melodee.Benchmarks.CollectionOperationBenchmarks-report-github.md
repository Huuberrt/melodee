```

BenchmarkDotNet v0.14.0, Manjaro Linux
AMD Ryzen 9 3900X, 1 CPU, 24 logical and 12 physical cores
.NET SDK 9.0.109
  [Host]   : .NET 9.0.8 (9.0.825.36511), X64 RyuJIT AVX2
  .NET 9.0 : .NET 9.0.8 (9.0.825.36511), X64 RyuJIT AVX2

Job=.NET 9.0  Runtime=.NET 9.0  

```
| Method                                   | CollectionSize | arraySize | Mean            | Error        | StdDev       | Ratio   | RatioSD | Completed Work Items | Lock Contentions | Gen0    | Gen1   | Allocated | Alloc Ratio |
|----------------------------------------- |--------------- |---------- |----------------:|-------------:|-------------:|--------:|--------:|---------------------:|-----------------:|--------:|-------:|----------:|------------:|
| **ArrayPoolUsage_vs_NewArray**               | **100**            | **1024**      |        **510.2 ns** |      **2.78 ns** |      **2.32 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 100            | 1024      |        757.5 ns |     14.91 ns |     24.92 ns |       ? |       ? |                    - |                - |  0.1249 |      - |    1048 B |           ? |
|                                          |                |           |                 |              |              |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **100**            | **4096**      |      **1,981.6 ns** |     **27.69 ns** |     **25.90 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 100            | 4096      |      2,983.3 ns |     55.30 ns |     59.17 ns |       ? |       ? |                    - |                - |  0.4921 |      - |    4120 B |           ? |
|                                          |                |           |                 |              |              |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **100**            | **16384**     |      **5,978.4 ns** |     **73.18 ns** |     **68.46 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 100            | 16384     |     12,060.0 ns |    240.65 ns |    408.64 ns |       ? |       ? |                    - |                - |  1.9531 |      - |   16408 B |           ? |
|                                          |                |           |                 |              |              |         |         |                      |                  |         |        |           |             |
| **PlaylistReordering_MultipleToListCalls**   | **100**            | **?**         |      **2,771.1 ns** |     **37.15 ns** |     **32.94 ns** |    **1.00** |    **0.02** |                    **-** |                **-** |  **0.3395** |      **-** |    **2848 B** |        **1.00** |
| PlaylistReordering_OptimizedSinglePass   | 100            | ?         |        578.4 ns |     11.54 ns |     21.67 ns |    0.21 |    0.01 |                    - |                - |  0.2613 | 0.0010 |    2192 B |        0.77 |
| PlaylistReordering_SpanBased             | 100            | ?         |        313.1 ns |      5.66 ns |      6.06 ns |    0.11 |    0.00 |                    - |                - |  0.0982 |      - |     824 B |        0.29 |
| MultipleLinqOperations_Inefficient       | 100            | ?         |      1,234.9 ns |     24.18 ns |     27.85 ns |    0.45 |    0.01 |                    - |                - |  0.2384 |      - |    2000 B |        0.70 |
| SingleLinqChain_Optimized                | 100            | ?         |        967.8 ns |      3.60 ns |      3.00 ns |    0.35 |    0.00 |                    - |                - |  0.1564 |      - |    1312 B |        0.46 |
| ForLoop_Manual                           | 100            | ?         |        476.2 ns |      8.41 ns |      7.03 ns |    0.17 |    0.00 |                    - |                - |  0.0772 |      - |     648 B |        0.23 |
| BulkOperations_vs_Individual             | 100            | ?         |        555.4 ns |     10.80 ns |     11.09 ns |    0.20 |    0.00 |                    - |                - |  0.0057 |      - |      48 B |        0.02 |
| BulkOperations_BatchUpdate               | 100            | ?         |      1,175.9 ns |     18.02 ns |     16.85 ns |    0.42 |    0.01 |                    - |                - |  0.1297 |      - |    1096 B |        0.38 |
| CollectionOperations_MemoryAllocation    | 100            | ?         |    371,998.1 ns |  3,599.42 ns |  3,366.90 ns |  134.26 |    1.93 |                    - |                - | 20.5078 | 0.4883 |  174857 B |       61.40 |
| CollectionOperations_OptimizedAllocation | 100            | ?         |    335,912.7 ns |  3,929.36 ns |  3,675.53 ns |  121.24 |    1.89 |                    - |                - |       - |      - |    1184 B |        0.42 |
| Original_vs_Optimized_Comparison         | 100            | ?         |     27,300.0 ns |    178.47 ns |    166.94 ns |    9.85 |    0.13 |                    - |                - |  0.5188 |      - |    4568 B |        1.60 |
|                                          |                |           |                 |              |              |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **1000**           | **1024**      |        **506.8 ns** |      **9.29 ns** |      **8.69 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 1000           | 1024      |        768.5 ns |     12.72 ns |     11.90 ns |       ? |       ? |                    - |                - |  0.1249 |      - |    1048 B |           ? |
|                                          |                |           |                 |              |              |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **1000**           | **4096**      |      **2,011.6 ns** |     **35.20 ns** |     **31.20 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 1000           | 4096      |      3,015.2 ns |     24.38 ns |     22.80 ns |       ? |       ? |                    - |                - |  0.4921 |      - |    4120 B |           ? |
|                                          |                |           |                 |              |              |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **1000**           | **16384**     |      **5,972.4 ns** |     **80.67 ns** |     **75.46 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 1000           | 16384     |     11,996.9 ns |    229.34 ns |    225.24 ns |       ? |       ? |                    - |                - |  1.9531 |      - |   16408 B |           ? |
|                                          |                |           |                 |              |              |         |         |                      |                  |         |        |           |             |
| **PlaylistReordering_MultipleToListCalls**   | **1000**           | **?**         |     **28,615.6 ns** |    **346.65 ns** |    **324.26 ns** |    **1.00** |    **0.02** |                    **-** |                **-** |  **2.7771** | **0.1526** |   **23296 B** |       **1.000** |
| PlaylistReordering_OptimizedSinglePass   | 1000           | ?         |      5,120.0 ns |     85.03 ns |     71.00 ns |    0.18 |    0.00 |                    - |                - |  1.9836 | 0.0534 |   16600 B |       0.713 |
| PlaylistReordering_SpanBased             | 1000           | ?         |      3,551.7 ns |     59.94 ns |     56.06 ns |    0.12 |    0.00 |                    - |                - |  0.9575 |      - |    8024 B |       0.344 |
| MultipleLinqOperations_Inefficient       | 1000           | ?         |     12,786.4 ns |    141.43 ns |    125.37 ns |    0.45 |    0.01 |                    - |                - |  1.5259 | 0.0305 |   12816 B |       0.550 |
| SingleLinqChain_Optimized                | 1000           | ?         |      5,450.5 ns |    104.57 ns |     87.32 ns |    0.19 |    0.00 |                    - |                - |  0.8011 |      - |    6728 B |       0.289 |
| ForLoop_Manual                           | 1000           | ?         |      7,585.2 ns |    142.79 ns |    133.56 ns |    0.27 |    0.01 |                    - |                - |  0.5493 |      - |    4608 B |       0.198 |
| BulkOperations_vs_Individual             | 1000           | ?         |        508.6 ns |      1.25 ns |      1.17 ns |    0.02 |    0.00 |                    - |                - |  0.0057 |      - |      48 B |       0.002 |
| BulkOperations_BatchUpdate               | 1000           | ?         |      1,195.8 ns |     21.95 ns |     20.54 ns |    0.04 |    0.00 |                    - |                - |  0.1297 |      - |    1096 B |       0.047 |
| CollectionOperations_MemoryAllocation    | 1000           | ?         |  3,478,240.8 ns | 22,461.88 ns | 21,010.86 ns |  121.56 |    1.51 |                    - |                - | 27.3438 | 3.9063 |  239700 B |      10.289 |
| CollectionOperations_OptimizedAllocation | 1000           | ?         |  3,402,413.5 ns | 14,561.36 ns | 13,620.71 ns |  118.91 |    1.38 |                    - |                - |       - |      - |    8427 B |       0.362 |
| Original_vs_Optimized_Comparison         | 1000           | ?         |    433,279.5 ns |  2,155.74 ns |  2,016.48 ns |   15.14 |    0.18 |                    - |                - |  4.3945 |      - |   37385 B |       1.605 |
|                                          |                |           |                 |              |              |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **5000**           | **1024**      |        **510.1 ns** |      **6.64 ns** |      **6.21 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 5000           | 1024      |        749.5 ns |     14.82 ns |     20.77 ns |       ? |       ? |                    - |                - |  0.1249 |      - |    1048 B |           ? |
|                                          |                |           |                 |              |              |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **5000**           | **4096**      |      **1,999.7 ns** |     **29.50 ns** |     **26.16 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 5000           | 4096      |      2,946.6 ns |     39.18 ns |     34.74 ns |       ? |       ? |                    - |                - |  0.4921 |      - |    4120 B |           ? |
|                                          |                |           |                 |              |              |         |         |                      |                  |         |        |           |             |
| **ArrayPoolUsage_vs_NewArray**               | **5000**           | **16384**     |      **5,874.5 ns** |     **17.97 ns** |     **15.00 ns** |       **?** |       **?** |                    **-** |                **-** |       **-** |      **-** |         **-** |           **?** |
| NewArray_Allocation                      | 5000           | 16384     |     11,994.8 ns |    232.74 ns |    285.83 ns |       ? |       ? |                    - |                - |  1.9531 |      - |   16408 B |           ? |
|                                          |                |           |                 |              |              |         |         |                      |                  |         |        |           |             |
| **PlaylistReordering_MultipleToListCalls**   | **5000**           | **?**         |    **169,331.7 ns** |  **1,286.64 ns** |  **1,203.53 ns** |   **1.000** |    **0.01** |                    **-** |                **-** | **13.1836** | **1.7090** |  **112704 B** |       **1.000** |
| PlaylistReordering_OptimizedSinglePass   | 5000           | ?         |     27,721.5 ns |    528.66 ns |    565.66 ns |   0.164 |    0.00 |                    - |                - | 15.6250 |      - |  131360 B |       1.166 |
| PlaylistReordering_SpanBased             | 5000           | ?         |     22,317.3 ns |    441.27 ns |    784.35 ns |   0.132 |    0.00 |                    - |                - |  4.7607 |      - |   40024 B |       0.355 |
| MultipleLinqOperations_Inefficient       | 5000           | ?         |     87,093.0 ns |    702.47 ns |    657.09 ns |   0.514 |    0.01 |                    - |                - |  7.2021 | 0.4883 |   60816 B |       0.540 |
| SingleLinqChain_Optimized                | 5000           | ?         |     22,821.8 ns |    170.95 ns |    159.90 ns |   0.135 |    0.00 |                    - |                - |  3.6621 | 0.2441 |   30728 B |       0.273 |
| ForLoop_Manual                           | 5000           | ?         |     46,429.7 ns |    583.00 ns |    545.34 ns |   0.274 |    0.00 |                    - |                - |  3.9673 | 0.1831 |   33352 B |       0.296 |
| BulkOperations_vs_Individual             | 5000           | ?         |        531.8 ns |      1.80 ns |      1.69 ns |   0.003 |    0.00 |                    - |                - |  0.0057 |      - |      48 B |       0.000 |
| BulkOperations_BatchUpdate               | 5000           | ?         |      1,130.9 ns |     18.78 ns |     17.57 ns |   0.007 |    0.00 |                    - |                - |  0.1297 |      - |    1096 B |       0.010 |
| CollectionOperations_MemoryAllocation    | 5000           | ?         | 17,667,687.3 ns | 35,042.57 ns | 31,064.33 ns | 104.343 |    0.74 |                    - |                - | 31.2500 |      - |  358688 B |       3.183 |
| CollectionOperations_OptimizedAllocation | 5000           | ?         | 17,635,221.2 ns | 61,478.91 ns | 57,507.41 ns | 104.151 |    0.79 |                    - |                - |       - |      - |   65863 B |       0.584 |
| Original_vs_Optimized_Comparison         | 5000           | ?         |  2,736,220.4 ns | 17,433.01 ns | 16,306.85 ns |  16.160 |    0.15 |                    - |                - | 19.5313 |      - |  188204 B |       1.670 |
