```

BenchmarkDotNet v0.14.0, Manjaro Linux
AMD Ryzen 9 3900X, 1 CPU, 24 logical and 12 physical cores
.NET SDK 9.0.109
  [Host]   : .NET 9.0.8 (9.0.825.36511), X64 RyuJIT AVX2
  .NET 9.0 : .NET 9.0.8 (9.0.825.36511), X64 RyuJIT AVX2

Job=.NET 9.0  Runtime=.NET 9.0  

```
| Method                             | BufferSize | start | length | Mean             | Error          | StdDev         | Ratio | RatioSD | Completed Work Items | Lock Contentions | Gen0     | Gen1     | Gen2     | Allocated   | Alloc Ratio |
|----------------------------------- |----------- |------ |------- |-----------------:|---------------:|---------------:|------:|--------:|---------------------:|-----------------:|---------:|---------:|---------:|------------:|------------:|
| **RangeRequestProcessing**             | **4096**       | **0**     | **-1**     | **37,367,612.45 ns** | **567,197.628 ns** | **473,635.708 ns** |     **?** |       **?** |           **12801.0714** |                **-** | **714.2857** | **714.2857** | **714.2857** | **134215598 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **4096**       | **0**     | **1024**   |      **7,171.62 ns** |      **57.310 ns** |      **50.804 ns** |     **?** |       **?** |               **1.0005** |                **-** |   **0.2136** |        **-** |        **-** |      **1752 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **4096**       | **1024**  | **8192**   |      **9,939.02 ns** |     **103.564 ns** |      **80.856 ns** |     **?** |       **?** |               **2.0002** |                **-** |   **1.8005** |   **0.0458** |        **-** |     **13040 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **FileStreamToMemoryStream_NewBuffer** | **4096**       | **?**     | **?**      | **37,956,474.37 ns** | **616,317.103 ns** | **546,349.059 ns** | **1.000** |    **0.02** |           **12801.0000** |                **-** | **615.3846** | **615.3846** | **615.3846** | **134219551 B** |       **1.000** |
| FileStreamToMemoryStream_ArrayPool | 4096       | ?     | ?      | 38,184,656.75 ns | 498,488.433 ns | 466,286.390 ns | 1.006 |    0.02 |           12801.0714 |                - | 714.2857 | 714.2857 | 714.2857 | 134215553 B |       1.000 |
| FileStreamCopyToAsync              | 4096       | ?     | ?      | 36,748,829.37 ns | 443,093.778 ns | 414,470.195 ns | 0.968 |    0.02 |           12801.0000 |                - | 714.2857 | 714.2857 | 714.2857 | 134215838 B |       1.000 |
| RangeParsing_ValidRange            | 4096       | ?     | ?      |        155.92 ns |       0.974 ns |       0.911 ns | 0.000 |    0.00 |                    - |                - |   0.0238 |        - |        - |       200 B |       0.000 |
| RangeParsing_StartOnly             | 4096       | ?     | ?      |        130.93 ns |       0.456 ns |       0.404 ns | 0.000 |    0.00 |                    - |                - |   0.0219 |        - |        - |       184 B |       0.000 |
| RangeParsing_SuffixOnly            | 4096       | ?     | ?      |        126.64 ns |       0.409 ns |       0.342 ns | 0.000 |    0.00 |                    - |                - |   0.0200 |        - |        - |       168 B |       0.000 |
| HeaderConstruction                 | 4096       | ?     | ?      |         49.71 ns |       0.154 ns |       0.144 ns | 0.000 |    0.00 |                    - |                - |   0.0086 |        - |        - |        72 B |       0.000 |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **8192**       | **0**     | **-1**     | **31,887,432.47 ns** | **255,326.536 ns** | **238,832.601 ns** |     **?** |       **?** |            **6401.0000** |                **-** | **625.0000** | **625.0000** | **625.0000** | **134211386 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **8192**       | **0**     | **1024**   |      **7,198.13 ns** |      **99.449 ns** |      **93.025 ns** |     **?** |       **?** |               **1.0001** |                **-** |   **0.2136** |        **-** |        **-** |      **1752 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **8192**       | **1024**  | **8192**   |      **8,010.65 ns** |     **112.305 ns** |     **105.050 ns** |     **?** |       **?** |               **1.0000** |           **0.0000** |   **1.0529** |   **0.0305** |        **-** |      **8920 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **FileStreamToMemoryStream_NewBuffer** | **8192**       | **?**     | **?**      | **31,594,209.28 ns** | **273,429.060 ns** | **242,387.740 ns** | **1.000** |    **0.01** |            **6401.0000** |                **-** | **625.0000** | **625.0000** | **625.0000** | **134219578 B** |       **1.000** |
| FileStreamToMemoryStream_ArrayPool | 8192       | ?     | ?      | 31,727,227.15 ns | 270,634.190 ns | 239,910.160 ns | 1.004 |    0.01 |            6401.0625 |                - | 625.0000 | 625.0000 | 625.0000 | 134211362 B |       1.000 |
| FileStreamCopyToAsync              | 8192       | ?     | ?      | 31,026,484.27 ns | 239,659.670 ns | 224,177.804 ns | 0.982 |    0.01 |            6401.0000 |                - | 625.0000 | 625.0000 | 625.0000 | 134211626 B |       1.000 |
| RangeParsing_ValidRange            | 8192       | ?     | ?      |        152.26 ns |       1.028 ns |       0.962 ns | 0.000 |    0.00 |                    - |                - |   0.0238 |        - |        - |       200 B |       0.000 |
| RangeParsing_StartOnly             | 8192       | ?     | ?      |        161.05 ns |       0.773 ns |       0.685 ns | 0.000 |    0.00 |                    - |                - |   0.0219 |        - |        - |       184 B |       0.000 |
| RangeParsing_SuffixOnly            | 8192       | ?     | ?      |        124.24 ns |       0.910 ns |       0.852 ns | 0.000 |    0.00 |                    - |                - |   0.0200 |        - |        - |       168 B |       0.000 |
| HeaderConstruction                 | 8192       | ?     | ?      |         49.48 ns |       0.263 ns |       0.219 ns | 0.000 |    0.00 |                    - |                - |   0.0086 |        - |        - |        72 B |       0.000 |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **16384**      | **0**     | **-1**     | **29,069,046.01 ns** | **165,487.766 ns** | **154,797.359 ns** |     **?** |       **?** |            **3201.0000** |                **-** | **593.7500** | **593.7500** | **593.7500** | **134203096 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **16384**      | **0**     | **1024**   |      **7,633.85 ns** |      **42.757 ns** |      **37.903 ns** |     **?** |       **?** |               **1.0000** |                **-** |   **0.2136** |        **-** |        **-** |      **1752 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **16384**      | **1024**  | **8192**   |      **8,512.85 ns** |      **79.046 ns** |      **66.007 ns** |     **?** |       **?** |               **1.0000** |                **-** |   **1.0529** |   **0.0305** |        **-** |      **8920 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **FileStreamToMemoryStream_NewBuffer** | **16384**      | **?**     | **?**      | **29,097,049.58 ns** | **126,492.427 ns** | **112,132.242 ns** | **1.000** |    **0.01** |            **3201.0000** |                **-** | **593.7500** | **593.7500** | **593.7500** | **134219480 B** |       **1.000** |
| FileStreamToMemoryStream_ArrayPool | 16384      | ?     | ?      | 28,823,888.65 ns | 148,100.568 ns | 123,670.682 ns | 0.991 |    0.01 |            3201.0000 |                - | 593.7500 | 593.7500 | 593.7500 | 134203072 B |       1.000 |
| FileStreamCopyToAsync              | 16384      | ?     | ?      | 28,531,065.18 ns | 254,779.956 ns | 238,321.329 ns | 0.981 |    0.01 |            3201.0000 |                - | 593.7500 | 593.7500 | 593.7500 | 134203328 B |       1.000 |
| RangeParsing_ValidRange            | 16384      | ?     | ?      |        148.22 ns |       2.424 ns |       2.148 ns | 0.000 |    0.00 |                    - |                - |   0.0238 |        - |        - |       200 B |       0.000 |
| RangeParsing_StartOnly             | 16384      | ?     | ?      |        147.86 ns |       1.817 ns |       1.699 ns | 0.000 |    0.00 |                    - |                - |   0.0219 |        - |        - |       184 B |       0.000 |
| RangeParsing_SuffixOnly            | 16384      | ?     | ?      |        127.05 ns |       1.071 ns |       0.836 ns | 0.000 |    0.00 |                    - |                - |   0.0200 |        - |        - |       168 B |       0.000 |
| HeaderConstruction                 | 16384      | ?     | ?      |         51.26 ns |       0.384 ns |       0.359 ns | 0.000 |    0.00 |                    - |                - |   0.0086 |        - |        - |        72 B |       0.000 |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **32768**      | **0**     | **-1**     | **27,618,182.80 ns** | **158,984.581 ns** | **148,714.276 ns** |     **?** |       **?** |            **1601.0000** |                **-** | **593.7500** | **593.7500** | **593.7500** | **134186688 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **32768**      | **0**     | **1024**   |      **8,734.01 ns** |      **77.147 ns** |      **60.231 ns** |     **?** |       **?** |               **1.0000** |                **-** |   **0.2136** |        **-** |        **-** |      **1752 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **32768**      | **1024**  | **8192**   |      **9,995.69 ns** |     **155.832 ns** |     **145.765 ns** |     **?** |       **?** |               **1.0000** |                **-** |   **1.0529** |   **0.0305** |        **-** |      **8920 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **FileStreamToMemoryStream_NewBuffer** | **32768**      | **?**     | **?**      | **27,668,954.08 ns** | **120,436.789 ns** | **112,656.647 ns** | **1.000** |    **0.01** |            **1601.0000** |                **-** | **593.7500** | **593.7500** | **593.7500** | **134219448 B** |       **1.000** |
| FileStreamToMemoryStream_ArrayPool | 32768      | ?     | ?      | 27,635,237.88 ns |  84,774.123 ns |  79,297.767 ns | 0.999 |    0.00 |            1601.0000 |                - | 593.7500 | 593.7500 | 593.7500 | 134186656 B |       1.000 |
| FileStreamCopyToAsync              | 32768      | ?     | ?      | 27,151,365.22 ns | 145,801.610 ns | 121,750.948 ns | 0.981 |    0.01 |            1601.0000 |                - | 593.7500 | 593.7500 | 593.7500 | 134186928 B |       1.000 |
| RangeParsing_ValidRange            | 32768      | ?     | ?      |        149.24 ns |       0.942 ns |       0.882 ns | 0.000 |    0.00 |                    - |                - |   0.0238 |        - |        - |       200 B |       0.000 |
| RangeParsing_StartOnly             | 32768      | ?     | ?      |        140.48 ns |       0.943 ns |       0.882 ns | 0.000 |    0.00 |                    - |                - |   0.0219 |        - |        - |       184 B |       0.000 |
| RangeParsing_SuffixOnly            | 32768      | ?     | ?      |        132.61 ns |       1.112 ns |       1.041 ns | 0.000 |    0.00 |                    - |                - |   0.0200 |        - |        - |       168 B |       0.000 |
| HeaderConstruction                 | 32768      | ?     | ?      |         50.66 ns |       0.513 ns |       0.480 ns | 0.000 |    0.00 |                    - |                - |   0.0086 |        - |        - |        72 B |       0.000 |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **65536**      | **0**     | **-1**     | **26,828,734.98 ns** |  **79,967.765 ns** |  **70,889.340 ns** |     **?** |       **?** |             **801.0000** |                **-** | **593.7500** | **593.7500** | **593.7500** | **134153896 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **65536**      | **0**     | **1024**   |     **11,192.84 ns** |     **188.934 ns** |     **167.485 ns** |     **?** |       **?** |               **1.0000** |           **0.0000** |   **0.2136** |        **-** |        **-** |      **1752 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **65536**      | **1024**  | **8192**   |     **12,841.13 ns** |     **199.811 ns** |     **186.903 ns** |     **?** |       **?** |               **1.0000** |           **0.0001** |   **1.0529** |   **0.0305** |        **-** |      **8921 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **FileStreamToMemoryStream_NewBuffer** | **65536**      | **?**     | **?**      | **27,001,698.21 ns** | **127,583.245 ns** | **119,341.447 ns** | **1.000** |    **0.01** |             **801.0000** |                **-** | **593.7500** | **593.7500** | **593.7500** | **134219432 B** |       **1.000** |
| FileStreamToMemoryStream_ArrayPool | 65536      | ?     | ?      | 26,836,132.60 ns | 157,843.593 ns | 147,646.995 ns | 0.994 |    0.01 |             801.0000 |                - | 593.7500 | 593.7500 | 593.7500 | 134153872 B |       1.000 |
| FileStreamCopyToAsync              | 65536      | ?     | ?      | 26,867,064.57 ns | 117,841.355 ns | 104,463.292 ns | 0.995 |    0.01 |             801.0313 |                - | 593.7500 | 593.7500 | 593.7500 | 134154128 B |       1.000 |
| RangeParsing_ValidRange            | 65536      | ?     | ?      |        145.11 ns |       1.016 ns |       0.950 ns | 0.000 |    0.00 |                    - |                - |   0.0238 |        - |        - |       200 B |       0.000 |
| RangeParsing_StartOnly             | 65536      | ?     | ?      |        128.03 ns |       0.582 ns |       0.516 ns | 0.000 |    0.00 |                    - |                - |   0.0219 |        - |        - |       184 B |       0.000 |
| RangeParsing_SuffixOnly            | 65536      | ?     | ?      |        130.20 ns |       0.892 ns |       0.790 ns | 0.000 |    0.00 |                    - |                - |   0.0200 |        - |        - |       168 B |       0.000 |
| HeaderConstruction                 | 65536      | ?     | ?      |         50.73 ns |       0.293 ns |       0.274 ns | 0.000 |    0.00 |                    - |                - |   0.0086 |        - |        - |        72 B |       0.000 |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **131072**     | **0**     | **-1**     | **24,624,334.51 ns** |  **70,004.313 ns** |  **62,057.000 ns** |     **?** |       **?** |             **401.0000** |                **-** | **531.2500** | **531.2500** | **531.2500** | **134088265 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **131072**     | **0**     | **1024**   |     **24,533.85 ns** |     **410.259 ns** |     **383.756 ns** |     **?** |       **?** |               **1.0000** |           **0.0030** |   **0.2136** |        **-** |        **-** |      **1814 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **131072**     | **1024**  | **8192**   |     **24,610.48 ns** |     **335.037 ns** |     **313.394 ns** |     **?** |       **?** |               **1.0000** |           **0.0009** |   **1.0681** |   **0.0305** |        **-** |      **8984 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **FileStreamToMemoryStream_NewBuffer** | **131072**     | **?**     | **?**      | **26,366,403.77 ns** | **134,829.513 ns** | **126,119.610 ns** | **1.000** |    **0.01** |             **401.0000** |                **-** | **593.7500** | **593.7500** | **593.7500** | **134220135 B** |       **1.000** |
| FileStreamToMemoryStream_ArrayPool | 131072     | ?     | ?      | 24,459,904.69 ns | 148,288.592 ns | 131,453.974 ns | 0.928 |    0.01 |             401.0000 |                - | 531.2500 | 531.2500 | 531.2500 | 134088242 B |       0.999 |
| FileStreamCopyToAsync              | 131072     | ?     | ?      | 25,110,714.03 ns | 122,037.651 ns | 114,154.095 ns | 0.952 |    0.01 |             401.0000 |                - | 531.2500 | 531.2500 | 531.2500 | 134088750 B |       0.999 |
| RangeParsing_ValidRange            | 131072     | ?     | ?      |        145.11 ns |       1.069 ns |       0.893 ns | 0.000 |    0.00 |                    - |                - |   0.0238 |        - |        - |       200 B |       0.000 |
| RangeParsing_StartOnly             | 131072     | ?     | ?      |        143.94 ns |       1.228 ns |       1.149 ns | 0.000 |    0.00 |                    - |                - |   0.0219 |        - |        - |       184 B |       0.000 |
| RangeParsing_SuffixOnly            | 131072     | ?     | ?      |        128.20 ns |       0.715 ns |       0.669 ns | 0.000 |    0.00 |                    - |                - |   0.0200 |        - |        - |       168 B |       0.000 |
| HeaderConstruction                 | 131072     | ?     | ?      |         50.46 ns |       0.544 ns |       0.482 ns | 0.000 |    0.00 |                    - |                - |   0.0086 |        - |        - |        72 B |       0.000 |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **262144**     | **0**     | **-1**     | **26,209,926.48 ns** | **194,385.343 ns** | **181,828.170 ns** |     **?** |       **?** |             **201.0000** |                **-** | **531.2500** | **531.2500** | **531.2500** | **133957170 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **262144**     | **0**     | **1024**   |     **37,155.33 ns** |     **279.689 ns** |     **247.937 ns** |     **?** |       **?** |               **1.0000** |           **0.0001** |   **0.1831** |        **-** |        **-** |      **1816 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **RangeRequestProcessing**             | **262144**     | **1024**  | **8192**   |     **38,861.66 ns** |     **759.350 ns** |     **779.796 ns** |     **?** |       **?** |               **1.0000** |                **-** |   **1.0376** |        **-** |        **-** |      **8984 B** |           **?** |
|                                    |            |       |        |                  |                |                |       |         |                      |                  |          |          |          |             |             |
| **FileStreamToMemoryStream_NewBuffer** | **262144**     | **?**     | **?**      | **26,058,110.91 ns** | **167,698.688 ns** | **156,865.457 ns** | **1.000** |    **0.01** |             **201.0000** |                **-** | **593.7500** | **593.7500** | **593.7500** | **134220112 B** |       **1.000** |
| FileStreamToMemoryStream_ArrayPool | 262144     | ?     | ?      | 26,102,262.58 ns | 229,837.095 ns | 214,989.761 ns | 1.002 |    0.01 |             201.0000 |                - | 531.2500 | 531.2500 | 531.2500 | 133957146 B |       0.998 |
| FileStreamCopyToAsync              | 262144     | ?     | ?      | 25,128,941.85 ns | 166,413.787 ns | 155,663.559 ns | 0.964 |    0.01 |             201.0000 |                - | 531.2500 | 531.2500 | 531.2500 | 133957410 B |       0.998 |
| RangeParsing_ValidRange            | 262144     | ?     | ?      |        149.71 ns |       1.055 ns |       0.987 ns | 0.000 |    0.00 |                    - |                - |   0.0238 |        - |        - |       200 B |       0.000 |
| RangeParsing_StartOnly             | 262144     | ?     | ?      |        137.24 ns |       0.852 ns |       0.797 ns | 0.000 |    0.00 |                    - |                - |   0.0219 |        - |        - |       184 B |       0.000 |
| RangeParsing_SuffixOnly            | 262144     | ?     | ?      |        132.89 ns |       0.856 ns |       0.801 ns | 0.000 |    0.00 |                    - |                - |   0.0200 |        - |        - |       168 B |       0.000 |
| HeaderConstruction                 | 262144     | ?     | ?      |         50.22 ns |       0.451 ns |       0.422 ns | 0.000 |    0.00 |                    - |                - |   0.0086 |        - |        - |        72 B |       0.000 |
